function DropDownScript(t,i,e,s,c,n,h){this.id=t,this.divPstfx=i,this.selectPstfx=e,this.postbackFunction=s,this.useButtons=c,this.autoPost=n,this.useSelectAll=h,this.divId=this.id+this.divPstfx,this.selId=this.id+this.selectPstfx,this.selection=new Array,this.visible=!1,this.preventHide=!1,this.initialized=!1}(function(t){t.fn.hitch=function(t,i,e){return this.bind(t,function(){return i.apply(e||this,Array.prototype.slice.call(arguments))})}})(jQuery),DropDownScript.prototype.update=function(t,i,e,s,c,n){this.divPstfx=t,this.selectPstfx=i,this.postbackFunction=e,this.useButtons=s,this.autoPost=c,this.useSelectAll=n,this.divId=this.id+this.divPstfx,this.selId=this.id+this.selectPstfx,this.initEvents()},DropDownScript.prototype.init=function(){var t=this;"undefined"!=typeof Sys&&Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function(i,e){t.initEvents()}),this.initEventHandlers(),this.initEvents(),this.initialized=!0},DropDownScript.prototype.initEventHandlers=function(){this.documentClickHandler=function(){!this.preventHide&&this.visible&&(this.useButtons?this.clickCancel():this.autoPost?this.clickOk():this.hide()),this.preventHide=!1},this.divClickHandler=function(t){t.stopPropagation()},this.selectBoxClickHandler=function(t){this.visible?this.hide():(this.show(),this.preventHide=!0)},this.selectAllClickHandler=function(t){this.useSelectAll&&(t.target.checked?this.selectAll():this.deselectAll())},this.checkBoxClickHandler=function(t){this.updateSelectAll()},this.okClickHandler=function(t){this.clickOk(),t.stopPropagation()},this.cancelHandler=function(t){this.clickCancel(),t.stopPropagation()}},DropDownScript.prototype.initEvents=function(){this.initialized||$(document).hitch("click",this.documentClickHandler,this);var t=$("#"+this.divId);t.unbind("click.chk_dd"),t.hitch("click.chk_dd",this.divClickHandler,this);var i=$("#"+this.selId);i.unbind("click.chk_dd"),i.hitch("click.chk_dd",this.selectBoxClickHandler,this);var e=$("#"+this.divId+" input[type='checkbox']:first");e.unbind("click.chk_dd"),this.useSelectAll&&e.hitch("click.chk_dd",this.selectAllClickHandler,this);var s=this.getItems();s.unbind("click.chk_dd"),s.hitch("click.chk_dd",this.checkBoxClickHandler,this);var c=$("#"+this.divId+" input[type='button']:first");c.unbind("click.chk_dd"),c.hitch("click.chk_dd",this.okClickHandler,this);var n=$("#"+this.divId+" input[type='button']:gt(0)");n.unbind("click.chk_dd"),n.hitch("click.chk_dd",this.cancelHandler,this)},DropDownScript.prototype.clickOk=function(){this.hide(),this.saveSelection(),this.doPostBack()},DropDownScript.prototype.clickCancel=function(){this.hide(),this.restoreSelection()},DropDownScript.prototype.getItems=function(){return $("#"+this.id+" input[type='checkbox']")},DropDownScript.prototype.show=function(){$("#"+this.divId).show(),this.visible=!0,this.saveSelection(),this.updateSelectAll()},DropDownScript.prototype.hide=function(){$("#"+this.divId).hide(),this.visible=!1},DropDownScript.prototype.updateSelectAll=function(){if(this.useSelectAll){for(var t=!0,i=this.getItems(),e=0;e<i.length;e++)if(0==i[e].checked){t=!1;break}$("#"+this.divId+" input[type='checkbox']:first").prop("checked",t)}},DropDownScript.prototype.selectAll=function(){this.getItems().prop("checked",!0)},DropDownScript.prototype.deselectAll=function(){this.getItems().prop("checked",!1)},DropDownScript.prototype.saveSelection=function(){for(var t=this.getItems(),i=0;i<t.length;i++)this.selection[i]=!!t[i].checked},DropDownScript.prototype.restoreSelection=function(){var t=this.getItems();if(this.selection.length>0)for(var i=0;i<t.length;i++)t[i].checked=this.selection[i]},DropDownScript.prototype.doPostBack=function(){this.postbackFunction&&this.postbackFunction.call()};
